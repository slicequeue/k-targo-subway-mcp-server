# μ§€ν•μ²  API ν…μ¤νΈ λ„κµ¬

μ΄ ν΄λ”λ” `external/tago-subway` λ¨λ“μ μ‹¤μ  API νΈμ¶μ„ ν…μ¤νΈν•  μ μλ” λ„κµ¬λ“¤μ„ ν¬ν•¨ν•©λ‹λ‹¤.

## π€ μ‚¬μ©λ²•

### 1. ν™κ²½λ³€μ μ„¤μ •

λ¨Όμ € GOV_API_KEY ν™κ²½λ³€μλ¥Ό μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤:

```bash
# Windows
set GOV_API_KEY=your_api_key_here

# macOS/Linux
export GOV_API_KEY=your_api_key_here

# λλ” .env νμΌμ— μ¶”κ°€
echo "GOV_API_KEY=your_api_key_here" >> .env
```

### 2. ν…μ¤νΈ μ‹¤ν–‰

#### κΈ°λ³Έ ν†µν•© ν…μ¤νΈ
```bash
npm run test:api
```

#### νΉμ • μ—­ ν…μ¤νΈ
```bash
npm run test:api station "κ°•λ‚¨"
npm run test:api station "ν™λ€μ…κµ¬"
npm run test:api station "μ‹ μ΄"
```

### 3. μ§μ ‘ μ‹¤ν–‰

```bash
# κΈ°λ³Έ ν…μ¤νΈ
npx tsx src/test/run-test.ts

# νΉμ • μ—­ ν…μ¤νΈ
npx tsx src/test/run-test.ts station "κ°•λ‚¨"
```

## π“‹ ν…μ¤νΈ λ‚΄μ©

### 1. μ§€ν•μ² μ—­ κ²€μƒ‰ ν…μ¤νΈ
- κ°•λ‚¨μ—­ κ²€μƒ‰
- κ²€μƒ‰ κ²°κ³Ό μ¶λ ¥
- μ—­ ID, μ—­λ…, λ…Έμ„  μ •λ³΄ ν™•μΈ

### 2. μ‹κ°„ν‘ μ΅°ν ν…μ¤νΈ
- ν‰μΌ μƒν–‰ μ‹κ°„ν‘ μ΅°ν
- λ„μ°©/μ¶λ° μ‹κ°„ ν™•μΈ
- μΆ…μ μ—­ μ •λ³΄ ν™•μΈ

### 3. μ „μ²΄ μ‹κ°„ν‘ μ΅°ν ν…μ¤νΈ
- λ¨λ“  μ”μΌ/λ°©ν–¥ μ΅°ν•© μ΅°ν
- 6κ°€μ§€ μ΅°ν•© (ν‰μΌ/ν† μ”μΌ/μΌμ”μΌ Γ— μƒν–‰/ν•ν–‰)
- κ° μ΅°ν•©λ³„ μ—΄μ°¨ μ ν™•μΈ

## π”§ ν…μ¤νΈ ν•¨μλ“¤

### `testSearchSubwayStation()`
μ§€ν•μ² μ—­ κ²€μƒ‰ κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.

### `testGetStationTimetable(stationId)`
νΉμ • μ—­μ μ‹κ°„ν‘ μ΅°νλ¥Ό ν…μ¤νΈν•©λ‹λ‹¤.

### `testGetAllTimetables(stationId)`
νΉμ • μ—­μ μ „μ²΄ μ‹κ°„ν‘ μ΅°νλ¥Ό ν…μ¤νΈν•©λ‹λ‹¤.

### `runAllTests()`
λ¨λ“  ν…μ¤νΈλ¥Ό μμ°¨μ μΌλ΅ μ‹¤ν–‰ν•©λ‹λ‹¤.

### `testSpecificStation(stationName)`
νΉμ • μ—­μ— λ€ν• μƒμ„Έ ν…μ¤νΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

## π“ μμƒ μ¶λ ¥

```
π‡ μ§€ν•μ²  API ν…μ¤νΈ λ„κµ¬

κΈ°λ³Έ ν†µν•© ν…μ¤νΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤...

π§ μ§€ν•μ²  API ν†µν•© ν…μ¤νΈ μ‹μ‘

==================================================
π‡ μ§€ν•μ² μ—­ κ²€μƒ‰ ν…μ¤νΈ μ‹μ‘...

β… κ²€μƒ‰ μ„±κ³µ!
μ΄ 1κ° μ—­ λ°κ²¬

π“‹ κ²€μƒ‰ κ²°κ³Ό:
1. κ°•λ‚¨ (2νΈμ„ )
   μ—­ ID: 222

π‡ μ§€ν•μ²  μ‹κ°„ν‘ μ΅°ν ν…μ¤νΈ μ‹μ‘... (μ—­ ID: 222)

β… μ‹κ°„ν‘ μ΅°ν μ„±κ³µ!
μ—­λ…: κ°•λ‚¨
μ”μΌ: ν‰μΌ, λ°©ν–¥: μƒν–‰(μ„μΈλ°©ν–¥)
μ΄ 20κ° μ—΄μ°¨

π“‹ μ‹κ°„ν‘ (μ²μ 5κ°):
1. 06:00 λ„μ°© β†’ 06:02 μ¶λ°
   μΆ…μ : μ‹ λ„λ¦Ό
2. 06:05 λ„μ°© β†’ 06:07 μ¶λ°
   μΆ…μ : μ‹ λ„λ¦Ό
...

==================================================
π‰ λ¨λ“  ν…μ¤νΈ μ™„λ£!
```

## β οΈ μ£Όμμ‚¬ν•­

1. **API ν‚¤ ν•„μ”**: GOV_API_KEY ν™κ²½λ³€μκ°€ μ„¤μ •λμ–΄μ•Ό ν•©λ‹λ‹¤.
2. **λ„¤νΈμ›ν¬ μ—°κ²°**: μΈν„°λ„· μ—°κ²°μ΄ ν•„μ”ν•©λ‹λ‹¤.
3. **API μ ν•**: κ³µκ³µλ°μ΄ν„°ν¬ν„Έ API νΈμ¶ μ ν•μ΄ μμ„ μ μμµλ‹λ‹¤.
4. **μ‹¤μ  νΈμ¶**: μ‹¤μ  APIλ¥Ό νΈμ¶ν•λ―€λ΅ ν…μ¤νΈ μ‹ μ£Όμν•μ„Έμ”.

## π› λ¬Έμ  ν•΄κ²°

### API ν‚¤ μ¤λ¥
```
β GOV_API_KEY ν™κ²½λ³€μκ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.
```
β†’ ν™κ²½λ³€μλ¥Ό μ¬λ°”λ¥΄κ² μ„¤μ •ν•μ„Έμ”.

### λ„¤νΈμ›ν¬ μ¤λ¥
```
β κ²€μƒ‰ μ‹¤ν¨: Network Error
```
β†’ μΈν„°λ„· μ—°κ²°μ„ ν™•μΈν•μ„Έμ”.

### API μ ν• μ¤λ¥
```
β κ²€μƒ‰ μ‹¤ν¨: API νΈμ¶ ν•λ„ μ΄κ³Ό
```
β†’ μ μ‹ ν›„ λ‹¤μ‹ μ‹λ„ν•μ„Έμ”. 